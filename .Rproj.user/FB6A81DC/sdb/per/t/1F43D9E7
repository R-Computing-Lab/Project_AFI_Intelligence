{
    "contents" : "\\documentclass[a4paper,man,natbib,12pt,apacite]{apa6}\n\\usepackage{changepage}\n\\usepackage[english]{babel}\n\\usepackage[utf8x]{inputenc}\n\\usepackage{amsmath}\n\\usepackage{graphicx}\n\\usepackage{hyperref}\n\\usepackage{longtable}\n\\usepackage{varioref}\n\\usepackage[longnamesfirst]{natbib}\n%\\usepackage[natbibapa]{apacite}\n\\usepackage[colorinlistoftodos]{todonotes}\n\\usepackage{lineno}\n\\usepackage{listings}\n\\usepackage{longtable}\n\\usepackage{verbatim}\n\\usepackage[yyyymmdd,hhmmss]{datetime}\n\\newlength{\\wideitemsep}\n\\setlength{\\wideitemsep}{\\itemsep}\n\\addtolength{\\wideitemsep}{-10pt}\n\\let\\olditem\\item\n\\renewcommand{\\item}{\\setlength{\\itemsep}{\\wideitemsep}\\olditem}\n\n\n% New definition of square root:\n% it renames \\sqrt as \\oldsqrt\n\\let\\oldsqrt\\sqrt\n% it defines the new \\sqrt in terms of the old one\n\\def\\sqrt{\\mathpalette\\DHLhksqrt}\n\\def\\DHLhksqrt#1#2{%\n\\setbox0=\\hbox{$#1\\oldsqrt{#2\\,}$}\\dimen0=\\ht0\n\\advance\\dimen0-0.2\\ht0\n\\setbox2=\\hbox{\\vrule height\\ht0 depth -\\dimen0}%\n{\\box0\\lower0.4pt\\box2}}\n\n\n\\makeatletter\n\\newread\\pin@file\n\\newcounter{pinlineno}\n\\newcommand\\pin@accu{}\n\\newcommand\\pin@ext{pintmp}\n% inputs #3, selecting only lines #1 to #2 (inclusive)\n\\newcommand*\\partialinput [3] {%\n  \\IfFileExists{#3}{%\n    \\openin\\pin@file #3\n    % skip lines 1 to #1 (exclusive)\n    \\setcounter{pinlineno}{1}\n    \\@whilenum\\value{pinlineno}<#1 \\do{%\n      \\read\\pin@file to\\pin@line\n      \\stepcounter{pinlineno}%\n    }\n    % prepare reading lines #1 to #2 inclusive\n    \\addtocounter{pinlineno}{-1}\n    \\let\\pin@accu\\empty\n    \\begingroup\n    \\endlinechar\\newlinechar\n    \\@whilenum\\value{pinlineno}<#2 \\do{%\n      % use safe catcodes provided by e-TeX's \\readline\n      \\readline\\pin@file to\\pin@line\n      \\edef\\pin@accu{\\pin@accu\\pin@line}%\n      \\stepcounter{pinlineno}%\n    }\n    \\closein\\pin@file\n    \\expandafter\\endgroup\n    \\scantokens\\expandafter{\\pin@accu}%\n  }{%\n    \\errmessage{File `#3' doesn't exist!}%\n  }%\n}\n\\makeatother\n\n\\newcommand{\\cil}[1]{\\todo[inline, color=green!40]{#1}}\n\\newcommand{\\cm}[1]{\\todo[color=green!40]{#1}}\n\\newcommand{\\cmb}[1]{\\todo[color=blue!40]{\\lstinline|#1|}}\n\\title{Heritability of Persistence}\n\\shorttitle{Persistence}\n%\\author{S. Mason Garrison and Joseph Lee Rodgers}\n\\affiliation{Vanderbilt University}\n%\\addtolength{\\marginparwidth}{6cm}\n%\\addtolength{\\paperwidth}{\\marginparwidth-1cm}\n%\\addtolength{\\marginparsep}{2mm}\n%\\abstract{Last Modified \\\\\\today\\ at \\currenttime}\n\\authornote{Last Modified \\today\\ at \\currenttime.}\n\\begin{document}\n\\maketitle\n%\\linenumbers%\\section{Introduction}\n\\section{Methods}\n\\subsection{Sample}\nThe National Longitudinal Survey of Youth 1979 (NLSY79) is a nationally representative household probability sample, jointly sponsored by the US Department of Labor and US Department of Defense. In 1980, 12,686 adolescents were surveyed from 8,770 households on a battery of measures. The initial survey consisted of three subsamples: \\begin{itemize}\\item a cross--sectional probability sample of 6,111 non-institutionalized adolescents residing in the United States on December $31^{st}$ of 1978, \\item an over--sampled civilian subsample of  5,295 racial minorities and disadvantaged whites, and \\item a representative sample of 1,280 youths serving in the US Military on September $30^{th}$, 1978.\\end{itemize} In the civilian samples, subjects' birthdates ranged from January 1, 1957 to December 31, 1964, and were between the ages of 14 and 21 on $31^{st}$ of 1978, whereas military subject's birthdates ranged from January 1, 1957 to December 31, 1961, and were likewise between 17 and 21 years old. Participants were surveyed annually until 1994, and then surveyed biannually to the present day. Two waves of planned attrition occurred. After the 1984 interview, all but 201 randomly selected members of the military sample were dropped. After the 1990 interview, all 1,643 disadvantaged whites from the oversample were dropped. More information, such as the data and documentation can be found on the Bureau of Labor Statistics (BLS) website: \\url{http://www.bls.gov/nls/nlsy79.htm}.\n\n\\subsection{Coding Speed}\nWithin the Armed Services Vocational Aptitude Battery, there is an additional measure called Coding Speed. It was designed to measure attention to detail. It is a speeded test, where subjects must correctly match number-strings to words within a set period of time. Figures \\vref{csexample} and \\vref{csexample2} provide crude examples of how this task works. This measure has recently been repurposed as a measure of test persistence \\citep{garrison2015spsp,hitt2013don,Segal2012}. Thus far is has successfully been used to predict health outcomes over multiple decades\\citep{garrison2015spsp} and cross-generational\\citep{Garrison2015Arp} and test performance \\citep{Segal2012}. Unlike most measures of persistence or grit, it is performance based instead of self-report. Therefore, it ought to have psychometric properties more akin to a cognitive test than a personality measure -- and accordingly, be less prone to cognitive biases and common problems of self-reported personality measures.\n<<setup, include=FALSE>>=\n#Libraries\noptions(\"scipen\"=100, \"digits\"=4)\nlibrary(psych)\noptions(width=60)\nlibrary(NlsyLinks)\nlibrary(stargazer)\nlibrary(Hmisc)\n#Functions\ndf_AceEstimate=function(ACE){\n  data<-data.frame(ACE@ASquared,ACE@CSquared,ACE@ESquared,ACE@CaseCount)\n  names(data)<-c(\"ASquared\",\"CSquared\",\"ESquared\",\"CaseCount\")\n  data\n}\n#Data\n# Set working directory\n# setwd()\n# Set working directory\n# setwd()\n\nedu<- read.table('E:/Dropbox/Work/Research/Projects/NLSY/Depression/R/education.dat', sep=' ')\nnames(edu) <- c('R0000100','R0000149','R0017200','R0017300','R0214700','R0214800','R0216701','R0406401','R0618901','R0898201','R1145001','R1520201','R1890901','R2258001','R2445401','R2509800','R2871101','R2909200','R3074801','R3111200','R3401501','R3511200','R3656901','R3711200','R4007401','R4138900','R4418501','R4527600','R5103900','R5166901','R5222900','R5822800','R6479600','R6541400','R7007300','R7104600','R7704600','R7811500','R8497000','T0015400','T0988800','T1215400','T1215600','T2210700','T2273900','T2274100','T3108600','T3214000','T3214200','T4113100')\n\n# Handle missing values\n  edu[edu == -1] = NA  # Refused \n  edu[edu == -2] = NA  # Dont know \n  edu[edu == -3] = NA  # Invalid missing \n  edu[edu == -4] = NA  # Valid missing \n  edu[edu == -5] = NA  # Non-interview \n\n# If there are values not categorized they will be represented as NA\nvallabels = function(data) {\n  data$R0017200 <- factor(data$R0017200, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YR COL\",\"2ND YR COL\",\"3RD YR COL\",\"4TH YR COL\",\"5TH YR COL\",\"6TH YR COL\",\"7TH YR COL\",\"8TH YR COL OR MORE\",\"UNGRADED\"))\n  data$R0017300 <- factor(data$R0017300, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YR COL\",\"2ND YR COL\",\"3RD YR COL\",\"4TH YR COL\",\"5TH YR COL\",\"6TH YR COL\",\"7TH YR COL\",\"8TH YR COL OR MORE\",\"UNGRADED\"))\n  data$R0214700 <- factor(data$R0214700, levels=c(1.0,2.0,3.0), labels=c(\"HISPANIC\",\"BLACK\",\"NON-BLACK, NON-HISPANIC\"))\n  data$R0214800 <- factor(data$R0214800, levels=c(1.0,2.0), labels=c(\"MALE\",\"FEMALE\"))\n  data$R0216701 <- factor(data$R0216701, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YR COL\",\"2ND YR COL\",\"3RD YR COL\",\"4TH YR COL\",\"5TH YR COL\",\"6TH YR COL\",\"7TH YR COL\",\"8TH YR COL OR MORE\",\"UNGRADED\"))\n  data$R0406401 <- factor(data$R0406401, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YR COL\",\"2ND YR COL\",\"3RD YR COL\",\"4TH YR COL\",\"5TH YR COL\",\"6TH YR COL\",\"7TH YR COL\",\"8TH YR COL OR MORE\",\"UNGRADED\"))\n  data$R0618901 <- factor(data$R0618901, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YR COL\",\"2ND YR COL\",\"3RD YR COL\",\"4TH YR COL\",\"5TH YR COL\",\"6TH YR COL\",\"7TH YR COL\",\"8TH YR COL OR MORE\",\"UNGRADED\"))\n  data$R0898201 <- factor(data$R0898201, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YR COL\",\"2ND YR COL\",\"3RD YR COL\",\"4TH YR COL\",\"5TH YR COL\",\"6TH YR COL\",\"7TH YR COL\",\"8TH YR COL OR MORE\",\"UNGRADED\"))\n  data$R1145001 <- factor(data$R1145001, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YR COL\",\"2ND YR COL\",\"3RD YR COL\",\"4TH YR COL\",\"5TH YR COL\",\"6TH YR COL\",\"7TH YR COL\",\"8TH YR COL OR MORE\",\"UNGRADED\"))\n  data$R1520201 <- factor(data$R1520201, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YR COL\",\"2ND YR COL\",\"3RD YR COL\",\"4TH YR COL\",\"5TH YR COL\",\"6TH YR COL\",\"7TH YR COL\",\"8TH YR COL OR MORE\",\"UNGRADED\"))\n  data$R1890901 <- factor(data$R1890901, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YR COL\",\"2ND YR COL\",\"3RD YR COL\",\"4TH YR COL\",\"5TH YR COL\",\"6TH YR COL\",\"7TH YR COL\",\"8TH YR COL OR MORE\",\"UNGRADED\"))\n  data$R2258001 <- factor(data$R2258001, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YR COL\",\"2ND YR COL\",\"3RD YR COL\",\"4TH YR COL\",\"5TH YR COL\",\"6TH YR COL\",\"7TH YR COL\",\"8TH YR COL OR MORE\",\"UNGRADED\"))\n  data$R2445401 <- factor(data$R2445401, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YR COL\",\"2ND YR COL\",\"3RD YR COL\",\"4TH YR COL\",\"5TH YR COL\",\"6TH YR COL\",\"7TH YR COL\",\"8TH YR COL OR MORE\",\"UNGRADED\"))\n  data$R2509800 <- factor(data$R2509800, levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0), labels=c(\"HIGH SCHOOL DIPLOMA (OR EQUIVALENT)\",\"ASSOCIATE/JUNIOR COLLEGE (AA)\",\"BACHELOR OF ARTS DEGREE (BA)\",\"BACHELOR OF SCIENCE (BS)\",\"MASTER'S DEGREE (MA,MBA,MS,MSW)\",\"DOCTORAL DEGREE (PHD)\",\"PROFESSIONAL DEGREE (MD,LLD,DDS)\",\"OTHER\"))\n  data$R2871101 <- factor(data$R2871101, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YR COL\",\"2ND YR COL\",\"3RD YR COL\",\"4TH YR COL\",\"5TH YR COL\",\"6TH YR COL\",\"7TH YR COL\",\"8TH YR COL OR MORE\",\"UNGRADED\"))\n  data$R2909200 <- factor(data$R2909200, levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0), labels=c(\"HIGH SCHOOL DIPLOMA (OR EQUIVALENT)\",\"ASSOCIATE/JUNIOR COLLEGE (AA)\",\"BACHELOR OF ARTS DEGREE (BA)\",\"BACHELOR OF SCIENCE (BS)\",\"MASTER'S DEGREE (MA,MBA,MS,MSW)\",\"DOCTORAL DEGREE (PHD)\",\"PROFESSIONAL DEGREE (MD,LLD,DDS)\",\"OTHER\"))\n  data$R3074801 <- factor(data$R3074801, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YR COL\",\"2ND YR COL\",\"3RD YR COL\",\"4TH YR COL\",\"5TH YR COL\",\"6TH YR COL\",\"7TH YR COL\",\"8TH YR COL OR MORE\",\"UNGRADED\"))\n  data$R3111200 <- factor(data$R3111200, levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0), labels=c(\"HIGH SCHOOL DIPLOMA (OR EQUIVALENT)\",\"ASSOCIATE/JUNIOR COLLEGE (AA)\",\"BACHELOR OF ARTS DEGREE (BA)\",\"BACHELOR OF SCIENCE (BS)\",\"MASTER'S DEGREE (MA,MBA,MS,MSW)\",\"DOCTORAL DEGREE (PHD)\",\"PROFESSIONAL DEGREE (MD,LLD,DDS)\",\"OTHER\"))\n  data$R3401501 <- factor(data$R3401501, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YR COL\",\"2ND YR COL\",\"3RD YR COL\",\"4TH YR COL\",\"5TH YR COL\",\"6TH YR COL\",\"7TH YR COL\",\"8TH YR COL OR MORE\",\"UNGRADED\"))\n  data$R3511200 <- factor(data$R3511200, levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0), labels=c(\"HIGH SCHOOL DIPLOMA (OR EQUIVALENT)\",\"ASSOCIATE/JUNIOR COLLEGE (AA)\",\"BACHELOR OF ARTS DEGREE (BA)\",\"BACHELOR OF SCIENCE (BS)\",\"MASTER'S DEGREE (MA,MBA,MS,MSW)\",\"DOCTORAL DEGREE (PHD)\",\"PROFESSIONAL DEGREE (MD,LLD,DDS)\",\"OTHER\"))\n  data$R3656901 <- factor(data$R3656901, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YR COL\",\"2ND YR COL\",\"3RD YR COL\",\"4TH YR COL\",\"5TH YR COL\",\"6TH YR COL\",\"7TH YR COL\",\"8TH YR COL OR MORE\",\"UNGRADED\"))\n  data$R3711200 <- factor(data$R3711200, levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0), labels=c(\"HIGH SCHOOL DIPLOMA (OR EQUIVALENT)\",\"ASSOCIATE/JUNIOR COLLEGE (AA)\",\"BACHELOR OF ARTS DEGREE (BA)\",\"BACHELOR OF SCIENCE (BS)\",\"MASTER'S DEGREE (MA,MBA,MS,MSW)\",\"DOCTORAL DEGREE (PHD)\",\"PROFESSIONAL DEGREE (MD,LLD,DDS)\",\"OTHER\"))\n  data$R4007401 <- factor(data$R4007401, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YR COL\",\"2ND YR COL\",\"3RD YR COL\",\"4TH YR COL\",\"5TH YR COL\",\"6TH YR COL\",\"7TH YR COL\",\"8TH YR COL OR MORE\",\"UNGRADED\"))\n  data$R4138900 <- factor(data$R4138900, levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0), labels=c(\"HIGH SCHOOL DIPLOMA (OR EQUIVALENT)\",\"ASSOCIATE/JUNIOR COLLEGE (AA)\",\"BACHELOR OF ARTS DEGREE (BA)\",\"BACHELOR OF SCIENCE (BS)\",\"MASTER'S DEGREE (MA,MBA,MS,MSW)\",\"DOCTORAL DEGREE (PHD)\",\"PROFESSIONAL DEGREE (MD,LLD,DDS)\",\"OTHER\"))\n  data$R4418501 <- factor(data$R4418501, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YR COL\",\"2ND YR COL\",\"3RD YR COL\",\"4TH YR COL\",\"5TH YR COL\",\"6TH YR COL\",\"7TH YR COL\",\"8TH YR COL OR MORE\",\"UNGRADED\"))\n  data$R4527600 <- factor(data$R4527600, levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0), labels=c(\"High school diploma (or equivalent)\",\"Associate/Junior College (AA)\",\"Bachelor of Arts Degree (BA)\",\"Bachelor of Science (BS)\",\"Master's Degree (MA, MBA, MS, MSW)\",\"Doctoral Degree (PhD)\",\"Professional Degree (MD, LLD, DDS)\",\"Other (SPECIFY)\"))\n  data$R5103900 <- factor(data$R5103900, levels=c(0.0,93.0,94.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"PRE-KINDERGARTEN\",\"KINDERGARTEN\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YEAR COLLEGE\",\"2ND YEAR COLLEGE\",\"3RD YEAR COLLEGE\",\"4TH YEAR COLLEGE\",\"5TH YEAR COLLEGE\",\"6TH YEAR COLLEGE\",\"7TH YEAR COLLEGE\",\"8TH YEAR COLLEGE OR MORE\",\"UNGRADED\"))\n  data$R5166901 <- factor(data$R5166901, levels=c(0.0,93.0,94.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"PRE-KINDERGARTEN\",\"KINDERGARTEN\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YEAR COLLEGE\",\"2ND YEAR COLLEGE\",\"3RD YEAR COLLEGE\",\"4TH YEAR COLLEGE\",\"5TH YEAR COLLEGE\",\"6TH YEAR COLLEGE\",\"7TH YEAR COLLEGE\",\"8TH YEAR COLLEGE OR MORE\",\"UNGRADED\"))\n  data$R5222900 <- factor(data$R5222900, levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0), labels=c(\"High school diploma (or equivalent)\",\"Associate/Junior College (AA)\",\"Bachelor of Arts Degree (BA)\",\"Bachelor of Science (BS)\",\"Master's Degree (MA, MBA, MS, MSW)\",\"Doctoral Degree (PhD)\",\"Professional Degree (MD, LLD, DDS)\",\"Other (SPECIFY)\"))\n  data$R5822800 <- factor(data$R5822800, levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0), labels=c(\"High school diploma (or equivalent)\",\"Associate/Junior College (AA)\",\"Bachelor of Arts Degree (BA)\",\"Bachelor of Science (BS)\",\"Master's Degree (MA, MBA, MS, MSW)\",\"Doctoral Degree (PhD)\",\"Professional Degree (MD, LLD, DDS)\",\"Other (SPECIFY)\"))\n  data$R6479600 <- factor(data$R6479600, levels=c(0.0,93.0,94.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"PRE-KINDERGARTEN\",\"KINDERGARTEN\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YEAR COLLEGE\",\"2ND YEAR COLLEGE\",\"3RD YEAR COLLEGE\",\"4TH YEAR COLLEGE\",\"5TH YEAR COLLEGE\",\"6TH YEAR COLLEGE\",\"7TH YEAR COLLEGE\",\"8TH YEAR COLLEGE OR MORE\",\"UNGRADED\"))\n  data$R6541400 <- factor(data$R6541400, levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0), labels=c(\"High school diploma (or equivalent)\",\"Associate/Junior College (AA)\",\"Bachelor of Arts Degree (BA)\",\"Bachelor of Science (BS)\",\"Master's Degree (MA, MBA, MS, MSW)\",\"Doctoral Degree (PhD)\",\"Professional Degree (MD, LLD, DDS)\",\"Other (SPECIFY)\"))\n  data$R7007300 <- factor(data$R7007300, levels=c(0.0,93.0,94.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"PRE-KINDERGARTEN\",\"KINDERGARTEN\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YEAR COLLEGE\",\"2ND YEAR COLLEGE\",\"3RD YEAR COLLEGE\",\"4TH YEAR COLLEGE\",\"5TH YEAR COLLEGE\",\"6TH YEAR COLLEGE\",\"7TH YEAR COLLEGE\",\"8TH YEAR COLLEGE OR MORE\",\"UNGRADED\"))\n  data$R7104600 <- factor(data$R7104600, levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0), labels=c(\"High school diploma (or equivalent)\",\"Associate/Junior College (AA)\",\"Bachelor of Arts Degree (BA)\",\"Bachelor of Science (BS)\",\"Master's Degree (MA, MBA, MS, MSW)\",\"Doctoral Degree (PhD)\",\"Professional Degree (MD, LLD, DDS)\",\"Other (SPECIFY)\"))\n  data$R7704600 <- factor(data$R7704600, levels=c(0.0,93.0,94.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"PRE-KINDERGARTEN\",\"KINDERGARTEN\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YEAR COLLEGE\",\"2ND YEAR COLLEGE\",\"3RD YEAR COLLEGE\",\"4TH YEAR COLLEGE\",\"5TH YEAR COLLEGE\",\"6TH YEAR COLLEGE\",\"7TH YEAR COLLEGE\",\"8TH YEAR COLLEGE OR MORE\",\"UNGRADED\"))\n  data$R7811500 <- factor(data$R7811500, levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0), labels=c(\"High school diploma (or equivalent)\",\"Associate/Junior College (AA)\",\"Bachelor of Arts Degree (BA)\",\"Bachelor of Science (BS)\",\"Master's Degree (MA, MBA, MS, MSW)\",\"Doctoral Degree (PhD)\",\"Professional Degree (MD, LLD, DDS)\",\"Other (SPECIFY)\"))\n  data$R8497000 <- factor(data$R8497000, levels=c(0.0,93.0,94.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"PRE-KINDERGARTEN\",\"KINDERGARTEN\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YEAR COLLEGE\",\"2ND YEAR COLLEGE\",\"3RD YEAR COLLEGE\",\"4TH YEAR COLLEGE\",\"5TH YEAR COLLEGE\",\"6TH YEAR COLLEGE\",\"7TH YEAR COLLEGE\",\"8TH YEAR COLLEGE OR MORE\",\"UNGRADED\"))\n  data$T0015400 <- factor(data$T0015400, levels=c(1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0), labels=c(\"High school diploma (or equivalent)\",\"Associate/Junior College (AA)\",\"Bachelor of Arts Degree (BA)\",\"Bachelor of Science (BS)\",\"Master's Degree (MA, MBA, MS, MSW)\",\"Doctoral Degree (PhD)\",\"Professional Degree (MD, LLD, DDS)\",\"Other (SPECIFY)\"))\n  data$T0988800 <- factor(data$T0988800, levels=c(0.0,93.0,94.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"PRE-KINDERGARTEN\",\"KINDERGARTEN\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YEAR COLLEGE\",\"2ND YEAR COLLEGE\",\"3RD YEAR COLLEGE\",\"4TH YEAR COLLEGE\",\"5TH YEAR COLLEGE\",\"6TH YEAR COLLEGE\",\"7TH YEAR COLLEGE\",\"8TH YEAR COLLEGE OR MORE\",\"UNGRADED\"))\n  data$T1215400 <- factor(data$T1215400, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0), labels=c(\"None\",\"High school diploma (or equivalent)\",\"Associate/Junior College (AA)\",\"Bachelor of Arts Degree (BA)\",\"Bachelor of Science (BS)\",\"Master's Degree (MA, MBA, MS, MSW)\",\"Doctoral Degree (PhD)\",\"Professional Degree (MD, LLD, DDS)\",\"Other (SPECIFY)\"))\n  data$T1215600 <- factor(data$T1215600, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0), labels=c(\"None\",\"High school diploma (or equivalent)\",\"Associate/Junior College (AA)\",\"Bachelor of Arts Degree (BA)\",\"Bachelor of Science (BS)\",\"Master's Degree (MA, MBA, MS, MSW)\",\"Doctoral Degree (PhD)\",\"Professional Degree (MD, LLD, DDS)\",\"Other (SPECIFY)\"))\n  data$T2210700 <- factor(data$T2210700, levels=c(0.0,93.0,94.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"PRE-KINDERGARTEN\",\"KINDERGARTEN\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YEAR COLLEGE\",\"2ND YEAR COLLEGE\",\"3RD YEAR COLLEGE\",\"4TH YEAR COLLEGE\",\"5TH YEAR COLLEGE\",\"6TH YEAR COLLEGE\",\"7TH YEAR COLLEGE\",\"8TH YEAR COLLEGE OR MORE\",\"UNGRADED\"))\n  data$T2273900 <- factor(data$T2273900, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0), labels=c(\"None\",\"High school diploma (or equivalent)\",\"Associate/Junior College (AA)\",\"Bachelor of Arts Degree (BA)\",\"Bachelor of Science (BS)\",\"Master's Degree (MA, MBA, MS, MSW)\",\"Doctoral Degree (PhD)\",\"Professional Degree (MD, LLD, DDS)\",\"Other (SPECIFY)\"))\n  data$T2274100 <- factor(data$T2274100, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0), labels=c(\"None\",\"High school diploma (or equivalent)\",\"Associate/Junior College (AA)\",\"Bachelor of Arts Degree (BA)\",\"Bachelor of Science (BS)\",\"Master's Degree (MA, MBA, MS, MSW)\",\"Doctoral Degree (PhD)\",\"Professional Degree (MD, LLD, DDS)\",\"Other (SPECIFY)\"))\n  data$T3108600 <- factor(data$T3108600, levels=c(0.0,93.0,94.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"PRE-KINDERGARTEN\",\"KINDERGARTEN\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YEAR COLLEGE\",\"2ND YEAR COLLEGE\",\"3RD YEAR COLLEGE\",\"4TH YEAR COLLEGE\",\"5TH YEAR COLLEGE\",\"6TH YEAR COLLEGE\",\"7TH YEAR COLLEGE\",\"8TH YEAR COLLEGE OR MORE\",\"UNGRADED\"))\n  data$T3214000 <- factor(data$T3214000, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0), labels=c(\"None\",\"High school diploma (or equivalent)\",\"Associate/Junior College (AA)\",\"Bachelor of Arts Degree (BA)\",\"Bachelor of Science (BS)\",\"Master's Degree (MA, MBA, MS, MSW)\",\"Doctoral Degree (PhD)\",\"Professional Degree (MD, LLD, DDS)\",\"Other (SPECIFY)\"))\n  data$T3214200 <- factor(data$T3214200, levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0), labels=c(\"None\",\"High school diploma (or equivalent)\",\"Associate/Junior College (AA)\",\"Bachelor of Arts Degree (BA)\",\"Bachelor of Science (BS)\",\"Master's Degree (MA, MBA, MS, MSW)\",\"Doctoral Degree (PhD)\",\"Professional Degree (MD, LLD, DDS)\",\"Other (SPECIFY)\"))\n  data$T4113100 <- factor(data$T4113100, levels=c(0.0,93.0,94.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0,95.0), labels=c(\"NONE\",\"PRE-KINDERGARTEN\",\"KINDERGARTEN\",\"1ST GRADE\",\"2ND GRADE\",\"3RD GRADE\",\"4TH GRADE\",\"5TH GRADE\",\"6TH GRADE\",\"7TH GRADE\",\"8TH GRADE\",\"9TH GRADE\",\"10TH GRADE\",\"11TH GRADE\",\"12TH GRADE\",\"1ST YEAR COLLEGE\",\"2ND YEAR COLLEGE\",\"3RD YEAR COLLEGE\",\"4TH YEAR COLLEGE\",\"5TH YEAR COLLEGE\",\"6TH YEAR COLLEGE\",\"7TH YEAR COLLEGE\",\"8TH YEAR COLLEGE OR MORE\",\"UNGRADED\"))\n  return(data)\n}\n\nvarlabels <- c(    \"ID# (1-12686) 79\",\n    \"HH ID # 79\",\n    \"HIGHEST GRD ATND 79\",\n    \"HGC 79\",\n    \"RACL/ETHNIC COHORT /SCRNR 79\",\n    \"SEX OF R 79\",\n    \"HIGHEST GRADE COMPLTD (REV) 79\",\n    \"HIGHEST GRADE COMPLTD (REV) 80\",\n    \"HIGHEST GRADE COMPLTD (REV) 81\",\n    \"HIGHEST GRADE COMPLTD (REV) 82\",\n    \"HIGHEST GRADE COMPLTD (REV) 83\",\n    \"HIGHEST GRADE COMPLTD (REV) 84\",\n    \"HIGHEST GRADE COMPLTD (REV) 85\",\n    \"HIGHEST GRADE COMPLTD (REV) 86\",\n    \"HIGHEST GRADE COMPLTD (REV) 87\",\n    \"HIGHEST DGR RCVD 88\",\n    \"HIGHEST GRADE COMPLTD (REV) 88\",\n    \"HIGHEST DGR RCVD 89\",\n    \"HIGHEST GRADE COMPLTD (REV) 89\",\n    \"HIGHEST DGR RCVD 90\",\n    \"HIGHEST GRADE COMPLTD (REV) 90\",\n    \"HIGHEST DGR RCVD 91\",\n    \"HIGHEST GRADE COMPLTD (REV) 91\",\n    \"HIGHEST DGR RCVD 92\",\n    \"HIGHEST GRADE COMPLTD (REV) 92\",\n    \"NAME OF HIGHEST DEGREE EVER  RECD 93\",\n    \"HIGHEST GRADE COMPLTD (REV) 93\",\n    \"NAME OF HIGHEST DEGREE EVER  RECD 94\",\n    \"HIGHEST GRADE COMPLTD (REV) 94\",\n    \"HIGHEST GRADE COMPLTD (REV) 96\",\n    \"NAME OF HIGHEST DEGREE EVER RECD 96\",\n    \"NAME OF HIGHEST DEGREE EVER  RECD 1998\",\n    \"HIGHEST GRADE COMPLTD (REV) 1998\",\n    \"NAME OF HIGHEST DEGREE EVER  RECD 2000\",\n    \"HIGHEST GRADE COMPLTD (REV) 2000\",\n    \"NAME OF HIGHEST DEGREE EVER  RECD 2002\",\n    \"HIGHEST GRADE COMPLTD (REV) 2002\",\n    \"NAME OF HIGHEST DEGREE EVER  RECD 2004\",\n    \"HIGHEST GRADE COMPLTD (REV) 2004\",\n    \"NAME OF HIGHEST DEGREE EVER  RECD 2006\",\n    \"HIGHEST GRADE COMPLTD (REV) 2006\",\n    \"NAME OF HIGHEST DEGREE EVER RECD 2008\",\n    \"NAME OF HIGHEST DEGREE EVER RECEIVED? 2008\",\n    \"HIGHEST GRADE COMPLTD (REV) 2008\",\n    \"NAME OF HIGHEST DEGREE EVER  RECD 2010\",\n    \"NAME OF HIGHEST DEGREE EVER  RECD 2010\",\n    \"HIGHEST GRADE COMPLTD (REV) 2010\",\n    \"NAME OF HIGHEST DEGREE EVER  RECD 2012\",\n    \"NAME OF HIGHEST DEGREE EVER  RECD 2012\",\n    \"HIGHEST GRADE COMPLTD (REV) 2012\"\n)\n\n# Use qnames rather than rnums\nqnames = function(data) {\n  names(data) <- c(\"CASEID_1979\",\"HHID_1979\",\"Q3-3_1979\",\"Q3-4_1979\",\"RACE_1979\",\"SEX_1979\",\"HGCREV79_1979\",\"HGCREV80_1980\",\"HGCREV81_1981\",\"HGCREV82_1982\",\"HGCREV83_1983\",\"HGCREV84_1984\",\"HGCREV85_1985\",\"HGCREV86_1986\",\"HGCREV87_1987\",\"Q3-10B_1988\",\"HGCREV88_1988\",\"Q3-10B_1989\",\"HGCREV89_1989\",\"Q3-10B_1990\",\"HGCREV90_1990\",\"Q3-10B_1991\",\"HGCREV91_1991\",\"Q3-10B_1992\",\"HGCREV92_1992\",\"Q3-10B_1993\",\"HGCREV93_1993\",\"Q3-10B_1994\",\"HGCREV94_1994\",\"HGCREV96_1996\",\"Q3-10B_1996\",\"Q3-10B_1998\",\"HGCREV98_1998\",\"Q3-10B_2000\",\"HGCREV00_2000\",\"Q3-10B_2002\",\"HGCREV02_2002\",\"Q3-10B_2004\",\"HGCREV04_2004\",\"Q3-10B_2006\",\"HGCREV06_2006\",\"Q3-10B_2008\",\"Q3-10D_2008\",\"HGCREV08_2008\",\"Q3-10B_2010\",\"Q3-10D_2010\",\"HGCREV10_2010\",\"Q3-10B_2012\",\"Q3-10D_2012\",\"HGCREV12_2012\")\n\n  return(data)\n}\nsubstrRight <- function(x, n){\n  substr(x, nchar(x)-n+1, nchar(x))\n}\n#********************************************************************************************************\n\n# Remove the '#' before the following line to create a data file called \"categories\" with value labels. \ncategories <- vallabels(edu)\n\n# Remove the '#' before the following lines to rename variables using Qnames instead of Reference Numbers\nedu <- qnames(edu)\ncategories <- qnames(categories)\n\n# Produce summaries for the raw (uncategorized) data file\n#summary(edu)\n\n# Remove the '#' before the following lines to produce summaries for the \"categories\" data file.\n#categories <- vallabels(edu)\n#summary(categories)\nis.not.null <- function(x) ! is.null(x)\n#************************************************************************************************************\ntotal_data <- categories\ntotal_data[,3]<-NULL;total_data[,3]<-NULL\nx<-names(total_data)\nxframe=data.frame(as.character(x),substr(x,1,4),substrRight(x,4),stringsAsFactors=FALSE)\nnames(xframe)<-c(\"varname\",\"varname_trimmed\",\"year\")\n\nxframe$year<-as.numeric(xframe$year)\nxframe$varname_trimmed[xframe$varname_trimmed==\"CASE\"]<-\"CASEID\"\nxframe$varname_trimmed[xframe$varname_trimmed==\"SEX_\"]<-\"SEX\"\nxframe$varname_trimmed[xframe$varname_trimmed==\"Q3-1\"]<-\"Highest_Degree_Completed\"\nxframe$varname_trimmed[xframe$varname_trimmed==\"HGCR\"]<-\"Highest_Grade_Completed\"\nxframe$varname_new<-paste0(xframe$varname_trimmed,\"_\",xframe$year)\nxframe<-na.omit(xframe)\nnames(total_data)<-xframe$varname_new\ntotal_data$Highest_Grade_Completed<-NA\ntotal_data$Highest_Degree_Completed<-NA\nfctr.cols <- sapply(total_data, is.factor)\ntotal_data[, fctr.cols] <- sapply(total_data[, fctr.cols], as.character)\ntotal_data_2<-total_data\n\nfor (i in 1:length(total_data_2[,1])){\nfor (j in max(xframe$year):1979){\n\n  NA_Test= total_data_2$Highest_Grade_Completed[i]\n  if (is.na(NA_Test) & is.not.null(eval(parse(text= paste0(\"total_data_2$Highest_Grade_Completed_\",j,\"[\",i,\"]\")))))\n    total_data_2$Highest_Grade_Completed[i]<- eval(parse(text= paste0(\"total_data_2$Highest_Grade_Completed_\",j,\"[\",i,\"]\")))   \n  NA_Test= total_data_2$Highest_Degree_Completed[i]\n  if (is.na(NA_Test) & is.not.null(eval(parse(text= paste0(\"total_data_2$Highest_Degree_Completed_\",j,\"[\",i,\"]\")))   \n  ) )\n    total_data_2$Highest_Degree_Completed[i]<- eval(parse(text= paste0(\"total_data_2$Highest_Degree_Completed_\",j,\"[\",i,\"]\")))   \n  }\n}\n\n\ndataframe<-data.frame(total_data[,1:4],as.factor(total_data_2$Highest_Degree_Completed),as.factor(total_data_2$Highest_Grade_Completed))\nnames(dataframe)<-c(\"MCASEID\",\"HHID\",\"RACE\",\"SEX\",\"DEGREE\",\"GRADE\")\n#GRADE\ndataframe$GRADE_numeric<-dataframe$CASEID*0\ndataframe$GRADE_numeric[dataframe$GRADE==\"NONE\"]<-0\ndataframe$GRADE_numeric[dataframe$GRADE==\"1ST GRADE\"]<-1\ndataframe$GRADE_numeric[dataframe$GRADE==\"3RD GRADE\"]<-3\ndataframe$GRADE_numeric[dataframe$GRADE==\"4TH GRADE\"]<-4\ndataframe$GRADE_numeric[dataframe$GRADE==\"5TH GRADE\"]<-5\n\ndataframe$GRADE_numeric[dataframe$GRADE==\"6TH GRADE\"]<-6\ndataframe$GRADE_numeric[dataframe$GRADE==\"7TH GRADE\"]<-7\ndataframe$GRADE_numeric[dataframe$GRADE==\"8TH GRADE\"]<-8\n\ndataframe$GRADE_numeric[dataframe$GRADE==\"9TH GRADE\"]<-9\ndataframe$GRADE_numeric[dataframe$GRADE==\"10TH GRADE\"]<-10\ndataframe$GRADE_numeric[dataframe$GRADE==\"11TH GRADE\"]<-11\ndataframe$GRADE_numeric[dataframe$GRADE==\"12TH GRADE\"]<-12\n\ndataframe$GRADE_numeric[dataframe$GRADE==\"1ST YEAR COLLEGE\"]<-13\ndataframe$GRADE_numeric[dataframe$GRADE==\"1ST YR COL\"]<-13\ndataframe$GRADE_numeric[dataframe$GRADE==\"2ND YEAR COLLEGE\"]<-14\ndataframe$GRADE_numeric[dataframe$GRADE==\"2ND YR COL\"]<-14\ndataframe$GRADE_numeric[dataframe$GRADE==\"3RD YEAR COLLEGE\"]<-15\ndataframe$GRADE_numeric[dataframe$GRADE==\"3RD YR COL\"]<-15\ndataframe$GRADE_numeric[dataframe$GRADE==\"4TH YEAR COLLEGE\"]<-16\ndataframe$GRADE_numeric[dataframe$GRADE==\"4TH YR COL\"]<-16\ndataframe$GRADE_numeric[dataframe$GRADE==\"5TH YEAR COLLEGE\"]<-17\ndataframe$GRADE_numeric[dataframe$GRADE==\"5TH YR COL\"]<-17\ndataframe$GRADE_numeric[dataframe$GRADE==\"6TH YEAR COLLEGE\"]<-18\ndataframe$GRADE_numeric[dataframe$GRADE==\"6TH YR COL\"]<-18\ndataframe$GRADE_numeric[dataframe$GRADE==\"7TH YEAR COLLEGE\"]<-19\ndataframe$GRADE_numeric[dataframe$GRADE==\"7TH YR COL\"]<-19\ndataframe$GRADE_numeric[dataframe$GRADE==\"8TH YEAR COLLEGE OR MORE\"]<-20\ndataframe$GRADE_numeric[dataframe$GRADE==\"8TH YR COL OR MORE\"]<-20\n\n##DEGREE\ndataframe$DEGREE_numeric<-dataframe$CASEID*0\nsummary(dataframe$DEGREE)\ndataframe$DEGREE_numeric[dataframe$DEGREE==\"Associate/Junior College (AA)\"]<-14\ndataframe$DEGREE_numeric[dataframe$DEGREE==\"ASSOCIATE/JUNIOR COLLEGE (AA)\"]<-14\ndataframe$DEGREE_numeric[dataframe$DEGREE==\"Bachelor of Arts Degree (BA)\"]<-16\ndataframe$DEGREE_numeric[dataframe$DEGREE==\"BACHELOR OF ARTS DEGREE (BA)\"]<-16\ndataframe$DEGREE_numeric[dataframe$DEGREE==\"Bachelor of Science (BS)\"]<-16\ndataframe$DEGREE_numeric[dataframe$DEGREE==\"BACHELOR OF SCIENCE (BS)\"]<-16\ndataframe$DEGREE_numeric[dataframe$DEGREE==\"Doctoral Degree (PhD)\"]<-20\ndataframe$DEGREE_numeric[dataframe$DEGREE==\"DOCTORAL DEGREE (PHD)\"]<-20\ndataframe$DEGREE_numeric[dataframe$DEGREE==\"High school diploma (or equivalent)\"]<-12\ndataframe$DEGREE_numeric[dataframe$DEGREE==\"HIGH SCHOOL DIPLOMA (OR EQUIVALENT)\"]<-12\ndataframe$DEGREE_numeric[dataframe$DEGREE==\"Master's Degree (MA, MBA, MS, MSW)\"]<-18\ndataframe$DEGREE_numeric[dataframe$DEGREE==\"MASTER'S DEGREE (MA,MBA,MS,MSW)\"]<-18\ndataframe$DEGREE_numeric[dataframe$DEGREE==\"None\"]<-0\ndataframe$DEGREE_numeric[dataframe$DEGREE==\"Professional Degree (MD, LLD, DDS)\"]<-19\ndataframe$DEGREE_numeric[dataframe$DEGREE==\"PROFESSIONAL DEGREE (MD,LLD,DDS)\"]<-19\ndataframe$DEGREE_numeric[dataframe$DEGREE==\"Other (SPECIFY)\"]<-NA\ndataframe$DEGREE_numeric[dataframe$DEGREE==\"OTHER\"]<-NA\n\n#education <- read.csv(\"E:/Dropbox/Work/Research/Projects/NLSY/Depression/R/education.csv\")\n\n\n\n###############\n\ncoding_speed <- read.delim(\"E:/Dropbox/Work/Research/Projects/NLSY/Not Current/difference scores and health/year1project/coding_speed.csv\")\nraw1980intelligence<- read.csv(\"E:/Dropbox/Work/Research/Projects/NLSY/Not Current/79/raw1980intelligence (2).csv\")\nraw1980intelligence[raw1980intelligence < 0] <- NA  \nnames(raw1980intelligence)<-c(\"MCASEID\",\"rawAFQT\")\ncoding_speed$MCASEID<-coding_speed$SubjectID\nrawcodingspeed <- coding_speed$ASVAB.8\nrawcodingspeed[rawcodingspeed == -4] <- NA  \nrawcodingspeed <- coding_speed$ASVAB.8\nrawcodingspeed[rawcodingspeed == -4] <- NA  \nmomintel <- read.csv(\"E:/Dropbox/SAS/MyFolders/79/SASGen1/momintel.csv\", header=FALSE)\nnames(momintel)<-c(\"MCASEID\",\"Intel_G1\",\"Intel_G1_SE\",\"HID\")\nIRT2PL_person_no_cluster <- read.table(\"E:/Dropbox/Work/Research/Projects/NLSY/AFI/R/MplusG1/IRT2PL_person_no_cluster.csv\", quote=\"\\\"\")\nIRT2PL_person_no_cluster<- IRT2PL_person_no_cluster[,105:106]\nnames(IRT2PL_person_no_cluster)<-c(\"MCASEID\",\"Intel_G1_NC\")\ncoding_speed<- merge(coding_speed,IRT2PL_person_no_cluster,by=\"MCASEID\",all=T)\ncoding_speed<- merge(coding_speed,momintel,by=\"MCASEID\",all=T)\ncoding_speed<- merge(coding_speed,raw1980intelligence,by=\"MCASEID\",all=T)\ncoding_speed<- merge(coding_speed,dataframe,by=\"MCASEID\",all=T)\ndsOutcomes<- data.frame(coding_speed[,1:4],rawcodingspeed,coding_speed$Intel_G1,coding_speed$Intel_G1_NC,coding_speed$rawAFQT,coding_speed$DEGREE_numeric,coding_speed$GRADE_numeric)\ndsOutcomes$Intel_G1<-dsOutcomes$coding_speed.Intel_G1\ndsOutcomes$Intel_G1_NC<-dsOutcomes$coding_speed.Intel_G1_NC\ndsOutcomes$rawAFQT<-dsOutcomes$coding_speed.rawAFQT\ndsOutcomes$coding_speed.rawAFQT<-NULL\ndsOutcomes$coding_speed.Intel_G1<-NULL\ndsOutcomes$coding_speed.Intel_G1_NC<-NULL\ndsLinks <- Links79Pair\ndsLinks <- dsLinks[dsLinks$RelationshipPath=='Gen1Housemates', ] #Only Gen1 Sibs (ie, NLSY79)\ndsSingle <- CreatePairLinksSingleEntered(outcomeDataset=dsOutcomes, linksPairDataset=dsLinks,\n                                         outcomeNames=c(\"rawcodingspeed\",\"Intel_G1\",\"rawAFQT\",\"Intel_G1_NC\",\"coding_speed.DEGREE_numeric\",\"coding_speed.GRADE_numeric\"))\n\ndsDouble <- CreatePairLinksDoubleEntered(outcomeDataset=dsOutcomes, linksPairDataset=dsLinks,\n                                        outcomeNames=c(\"rawcodingspeed\",\"Intel_G1\",\"rawAFQT\",\"Intel_G1_NC\",\"coding_speed.DEGREE_numeric\",\"coding_speed.GRADE_numeric\"))\n@\n\\section{Validity}\n\\subsection{Predictive Validity}\n<<>>=\n#Years of Education\n@\n\\subsection{Intelligence}\n<<>>=\ncor(dsDouble$rawAFQT_S1,dsDouble$Intel_G1_S1,use=\"pairwise.complete\")\ncor(dsDouble$rawAFQT_S1,dsDouble$Intel_G1_NC_S1,use=\"pairwise.complete\")\ncor(dsDouble$Intel_G1_S1,dsDouble$Intel_G1_NC_S1,use=\"pairwise.complete\")\n@\n\\vspace{-.8cm} \\section{Heritability}\n\\subsection{Coding Speed}\n<<ACEcs, include=TRUE>>=\noName_S1 <- \"rawcodingspeed_S1\"\noName_S2 <- \"rawcodingspeed_S2\"\n\n#Summarize the R groups and determine which groups can be estimated.\ndsGroupSummary <- RGroupSummary(dsSingle, oName_S1, oName_S2)\nzdsGroupSummary <- dsGroupSummary ;zdsGroupSummary[,2]<-NULL ; names(zdsGroupSummary)<-c(\"Relatedness\",\"N Pairs\",\"S1 Mean\",\"S2 Mean\",\"S1 Variance\",\"S2 Variance\",\"Covariance\",\"Correlation\",\"Determinant\",\"PosDefinite\")\ncapture.output(stargazer(zdsGroupSummary,summary=FALSE,flip = TRUE),file=\"E:/Dropbox/Work/Research/Projects/NLSY/Depression/R/table_CS_ACE_Descriptive.tex\")\ndsClean <- CleanSemAceDataset(dsDirty=dsSingle, dsGroupSummary, oName_S1, oName_S2)\n(AceLavaanGroup(dsClean))\nace <- df_AceEstimate(AceLavaanGroup(dsClean))\ncapture.output(stargazer(ace,summary=FALSE),file=\"E:/Dropbox/Work/Research/Projects/NLSY/Depression/R/table_CS_ACE_EST.tex\")\n@\nTable \\vref{table_CS_ACE_Descriptive} contains summary statistics for Coding Speed by relatedness. The Coding Speed means vary by relatedness. This difference is likely a function of the MZ twin sample size (n $=$ 10), as well as preexisting differences in household quality. I suspect that households with half-siblings are fundamentally different from households without half-siblings. In order to have half siblings, the Gen 0 mothers have to have had multiple partners -- within or without of wedlock. Regardless, this selection effect is not problematic -- Behavioral Genetic Models using the NLSY79 have already been published in Journal of Abnormal Psychology \\citep{van2009developmental}, Behavior Genetics \\citep{rodgers2015behavior}, Demography \\citep{miller2010biodemographic}, etc.\n\nThe ACE model in Table \\vref{table_CS_ACE_EST} suggests that 23.6\\% of the variance in Coding Speed can be explained by genetics, whereas 29\\% of that same variance can be explained by shared environment. Shared environmental influences are unheard of in individual differences research \\citep{turkheimer2000nonshared}. Indeed, estimates of shared environmental influence for the Big Five are approximately zero \\citep{Loehlin1998}. Therefore, C$^{2}$ of 29\\% which is comparable to the C$^{2$} Joyce found for Grit in the Twin Sample, is unprecedented.\n\n\\subsection{Intell}\n<<ACEIntel, include=TRUE>>=\n######Age 15 -- IRT - ASVAB\noName_S1 <- \"Intel_G1_S1\"\noName_S2 <- \"Intel_G1_S2\"\n\n#Summarize the R groups and determine which groups can be estimated.\n(dsGroupSummary <- RGroupSummary(dsSingle, oName_S1, oName_S2))\ndsClean <- CleanSemAceDataset(dsDirty=dsSingle, dsGroupSummary, oName_S1, oName_S2)\n(ace <- AceLavaanGroup(dsClean))\n\n######Age 15 -- IRT _NO CLSUTER- ASVAB\noName_S1 <- \"Intel_G1_NC_S1\"\noName_S2 <- \"Intel_G1_NC_S2\"\n\n#Summarize the R groups and determine which groups can be estimated.\n(dsGroupSummary <- RGroupSummary(dsSingle, oName_S1, oName_S2))\ndsClean <- CleanSemAceDataset(dsDirty=dsSingle, dsGroupSummary, oName_S1, oName_S2)\n(ace <- AceLavaanGroup(dsClean))\n\n\n######Age 15 -- IRT - ASVAB\noName_S1 <- \"rawAFQT_S1\"\noName_S2 <- \"rawAFQT_S2\"\n\n#Summarize the R groups and determine which groups can be estimated.\n(dsGroupSummary <- RGroupSummary(dsSingle, oName_S1, oName_S2))\ndsClean <- CleanSemAceDataset(dsDirty=dsSingle, dsGroupSummary, oName_S1, oName_S2)\n(ace <- AceLavaanGroup(dsClean))\n\n\n\n@\n%\\section{Bivariate Analyses}\n\\section{Validity}\n\n%\\subsection{ACE}\n\n%\\subsection{Kinship Causal Modeling}\n\\appendix\n\\section{Figures}\n\\begin{figure}\n  \\centering\n\\includegraphics[height=.85\\textwidth]{csexample}\n     \\caption{Coding Speed Screen Shot}\\label{csexample}\n\\end{figure}\\pagebreak\n\n\\begin{figure}\n  \\centering\n\\includegraphics[height=.85\\textwidth]{csexample3}\n     \\caption{Coding Speed Screen Shot}\\label{csexample2}\n\\end{figure}\n\n\\section{Tables}\n\\begin{longtable}{@{\\extracolsep{5pt}}cccc} \n\\caption{Descriptive Statistics for Univariate ACE of Coding Speed}\\label{table_CS_ACE_Descriptive}\n\\\\[-1.8ex]\\hline \n\\hline \\\\[-1.8ex] \n & Half-Siblings & Full Siblings & MZ Twins \\\\ \n \\hline \\\\[-1.8ex] \n\\partialinput{12}{19}{table_CS_ACE_Descriptive.tex}\n\\hline \\\\[-1.8ex] \n\\end{longtable}\n\n\\begin{longtable}{@{\\extracolsep{5pt}}ccccc} \n\\caption{Univariate ACE Estimate of Coding Speed}\\label{table_CS_ACE_EST}\n\\partialinput{8}{13}{table_CS_ACE_EST.tex}\n\\end{longtable}\n\\bibliography{ACE_Grit}\n\\end{document}\n\n%\n% Please see the package documentation for more information\n% on the APA6 document class:\n%\n% http://www.ctan.org/pkg/apa6\n%",
    "created" : 1433433440274.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1526383976",
    "id" : "1F43D9E7",
    "lastKnownWriteTime" : 1433701867,
    "path" : "E:/Dropbox/Work/Research/Projects/NLSY/Depression/R/ACE.Rnw",
    "project_path" : null,
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "sweave"
}